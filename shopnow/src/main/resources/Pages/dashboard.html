<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shopping Website Dashboard</title>
    <style>
        /* Resetting default margin and padding */
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }
        body {
          font-family: Georgia, serif;
          font-size: larger;
        }
        /* Header Styles */
        header {
          background-color: #e9caab;
          color: #000;
          padding: 20px;
          text-align: center;
          position: relative;
          font-family: Lucida Handwriting, Cursive;
        }
        header h1 {
          margin: 0;
        }
        .logout-btn {
          position: absolute;
          top: 39%;
          right: 40px;
          transform: translateY(-50%);
          background: #e9caab;
          border: none;
          color: #000;
          cursor: pointer;
          font-size: 16px;
        }
        .main-content {
          display: flex;
        }
        .sidebar {
          width: 20%;
          padding: 20px;
          background-color: #f4f4f4;
        }
        .productDisplay {
          flex: 1;
          padding: 20px;
        }
        .categoryList {
          list-style: none;
          padding: 0;
          cursor: pointer;
        }
        .categoryItem {
          margin-bottom: 10px;
          padding: 8px;
          background-color: #ddd;
          border-radius: 5px;
        }
        .categoryItem:hover {
          background-color: #ccc;
        }

        @media screen and (min-width: 768px) {
          .sidebar {
            width: 20%; /* Adjust for larger screens */
          }
        }
    </style>
</head>
<body>
<header>
    <h1>Shop Now</h1>
    <div class="logout-btn">
        <button>Logout</button>
    </div>
</header>
<div id="main-content" class="main-content">
    <!-- Sidebar Section -->
    <div id="sidebar" class="sidebar">
        <h3>Product Catalog</h3>
        <!-- Category Navigation -->
        <ul id="categoryList" class="categoryList" onclick="fetchProducts()">
            <!-- Categories will be dynamically populated here -->
        </ul>
    </div>

    <!-- Product Display Section -->
    <div id="productDisplay" class="productDisplay">
        <!-- Product details will be dynamically populated here -->
    </div>
</div>

<script>
    // Fetch product categories and all products on page load
    window.onload = () => {
      fetchCategories();
      fetchAllProducts();
    };

    // Function to fetch product categories
    function fetchCategories() {
      fetch("your_backend_api_url/categories")
        .then((response) => response.json())
        .then((categories) => {
          const categoryList = document.getElementById("categoryList");

          // Clear existing options
          categoryList.innerHTML = "";

          // Populate categories
          categories.forEach((category) => {
            const listItem = document.createElement("li");
            listItem.className = "categoryItem";
            listItem.textContent = category;
            categoryList.appendChild(listItem);
          });
        })
        .catch((error) => console.error("Error fetching categories:", error));
    }

    // Function to fetch all products
    function fetchAllProducts() {
      fetch("your_backend_api_url/allProducts")
        .then((response) => response.json())
        .then((products) => displayProducts(products))
        .catch((error) =>
          console.error("Error fetching all products:", error)
        );
    }

    // Function to fetch products based on clicked category
    function fetchProducts() {
      const selectedCategory = event.target.textContent;

      if (selectedCategory) {
        fetch(`your_backend_api_url/products?category=${selectedCategory}`)
          .then((response) => response.json())
          .then((products) => displayProducts(products))
          .catch((error) => console.error("Error fetching products:", error));
      } else {
        // If no category is selected, fetch all products
        fetchAllProducts();
      }
    }

    // Function to display products
    function displayProducts(products) {
      const productDisplay = document.getElementById("productDisplay");

      // Clear existing products
      productDisplay.innerHTML = "";

      // Populate products
      products.forEach((product) => {
        const productDiv = document.createElement("div");
        productDiv.innerHTML = `<h3>${product.name}</h3><p>Category: ${product.category}</p><p>Price: $${product.price}</p>`;
        productDisplay.appendChild(productDiv);
      });
    }
</script>
</body>
</html>
